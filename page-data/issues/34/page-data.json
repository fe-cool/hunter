{
    "componentChunkName": "component---src-templates-issues-tsx",
    "path": "/issues/34",
    "result": {"data":{"issuesJson":{"id":"afba0880-dabc-5747-b571-e9e11bfcdb3b","title":"å®ç°æ•°ç»„æ‰å¹³åŒ–","number":34,"bodyHTML":"\n<h3 dir=\"auto\">è¦å®ç°çš„åŠŸèƒ½</h3>\n\n<p dir=\"auto\">åœ¨ JavaScript ä¸­å®ç°æ‹å¹³æ•°ç»„ï¼Œä½ æœ‰å‡ ç§æ–¹æ³•ï¼Ÿ</p>\n<h3 dir=\"auto\">ä»£ç ç¤ºä¾‹</h3>\n\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼š[1, [2, 3, [4], 5], 6]\n// ä½ éœ€è¦è¾“å‡ºï¼šÂ [1, 2, 3, 4, 5, 6]\"><pre class=\"notranslate\"><span class=\"pl-c\">// ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼š[1, [2, 3, [4], 5], 6]</span>\n<span class=\"pl-c\">// ä½ éœ€è¦è¾“å‡ºï¼šÂ [1, 2, 3, 4, 5, 6]</span></pre></div>\n<h3 dir=\"auto\">æœ€ä½³ç­”æ¡ˆè¯„é€‰æ ‡å‡†</h3>\n \n<ol dir=\"auto\">\n<li>å¦‚æœç»™å‡ºå¤šç§è§£å†³æ–¹æ¡ˆï¼Œè¯·ç®€è¦é˜æ˜ä»–ä»¬çš„ä¼˜åŠ£</li>\n<li>è¯·å†™å‡ºå®ç°æ€è·¯ã€ä»£ç ï¼Œå¹¶ä¸ºä»£ç çš„å…³é”®æ­¥éª¤å¢å†™æ³¨é‡Š</li>\n<li>é™„å¸¦æµ‹è¯•ç”¨ä¾‹ã€æ˜¯åŠ åˆ†é¡¹</li>\n<li>ä¸éœ€è¦è€ƒè™‘å¼‚å¸¸å‘ç”Ÿ</li>\n<li>ä¸è¿‡åº¦è®¾è®¡ï¼Œä»£ç ç®€æ´ä¼˜é›…æ˜¯åŠ åˆ†é¡¹</li>\n</ol>\n<h2 dir=\"auto\">æœ€ä½³ç­”æ¡ˆ</h2>\n<p dir=\"auto\"><a href=\"https://github.com/BetaSu/fe-hunter/issues/34#issuecomment-1082556189\" data-hovercard-type=\"issue\" data-hovercard-url=\"/BetaSu/fe-hunter/issues/34/hovercard\">childrentimeçš„å›ç­”</a></p>\n<h3 dir=\"auto\">ç­”é¢˜åŒå­¦é¡»çŸ¥</h3>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\">ç­”é¢˜è§„èŒƒï¼šè¯·åœ¨<code class=\"notranslate\">ä¸€æ¬¡è¯„è®º</code>ä¸­å®Œæˆä½œç­”ï¼Œåç»­ä¿®æ”¹ä¹Ÿè¯·ç¼–è¾‘è¯¥è¯„è®ºï¼Œè€Œä¸æ˜¯è¿½åŠ æ–°çš„è¯„è®º</p>\n</li>\n<li>\n<p dir=\"auto\">è¯„é€‰æ ‡å‡†ï¼šæœ€ä½³ç­”æ¡ˆç”±<code class=\"notranslate\">å›´è§‚åŒå­¦</code>çš„ <g-emoji class=\"g-emoji\" alias=\"+1\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png\">ğŸ‘</g-emoji> å’Œ<a href=\"https://github.com/BetaSu\">å¡é¢‚</a>å…±åŒå†³å®š</p>\n</li>\n<li>\n<p dir=\"auto\">è¯„é€‰æ—¶é—´ï¼šä¸€èˆ¬æ˜¯å½“æ—¥18ï¼š00å·¦å³è¯„é€‰ï¼Œå¦‚æœé—®é¢˜å‘å¸ƒå½“å¤©å›ç­”æ•°è¾ƒå°‘ï¼Œé—®é¢˜æ‚¬èµé‡‘é¢å¯èƒ½å¢åŠ ï¼ŒåŒæ—¶æ‚¬èµæ—¶é—´ä¹Ÿä¼šå¢åŠ </p>\n</li>\n</ul>\n<h3 dir=\"auto\">å›´è§‚åŒå­¦é¡»çŸ¥</h3>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\">å¯¹äºä½ æ»¡æ„çš„ç­”æ¡ˆï¼Œè¯·ä¸è¦åæƒœä½ çš„ <g-emoji class=\"g-emoji\" alias=\"+1\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png\">ğŸ‘</g-emoji>ï¼Œè¿™æ˜¯è¯„é€‰<strong>æœ€ä½³ç­”æ¡ˆ</strong>çš„ä¾æ®</p>\n</li>\n<li>\n<p dir=\"auto\"><code class=\"notranslate\">éç­”é¢˜çš„è¯„è®º</code>ä¼šè¢«åˆ é™¤ï¼Œé—®é¢˜ç›¸å…³è®¨è®ºè¯·åœ¨<a href=\"https://github.com/BetaSu/fe-hunter\">èµé‡‘çŒäººç¾¤</a>ä¸­è¿›è¡Œ</p>\n</li>\n</ul>","updatedAt":"2022-03-31T05:58:52Z","upvoteCount":null,"author":{"login":"BetaSu","avatarUrl":"https://avatars.githubusercontent.com/u/15828041?u=3b08cdf9f9b49dbead9ffb020a94d925904d2b74&v=4","url":"https://github.com/BetaSu"},"category":null,"labels":{"edges":[{"node":{"name":"JS","color":"ffee58"}},{"node":{"name":"åŠ¨æ‰‹","color":"42a5f5"}}]},"comments":{"edges":[{"node":{"id":"IC_kwDOHCfdf85AhinA","bodyHTML":"<p dir=\"auto\">ç›´æ¥ä½¿ç”¨ES6çš„æ–¹æ³•flat</p>","author":{"login":"shabbyaaa","avatarUrl":"https://avatars.githubusercontent.com/u/48679300?u=ce60faaf13476ef3b0ad1cbac791423ff56bd54d&v=4","url":"https://github.com/shabbyaaa"},"replies":null}},{"node":{"id":"IC_kwDOHCfdf85Ahits","bodyHTML":"<h2 dir=\"auto\">äºŒç»´æ•°ç»„</h2>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// æ–¹æ³•ä¸€\nfunction flat(arr){\n    const res = []\n    for(let i=0;i&lt;arr.length;i++){\n        if(Array.isArray(arr[i])){\n            for(let j=0;j&lt;arr[i].length;j++){\n                res.push(arr[i][j])\n            }\n        } else {\n            res.push(arr[i])\n        }\n    }\n}\n\n// æ–¹æ³•äºŒ\nfunction flat(arr){\n    const res = []\n    for(x of arr){\n        res.concat(x)\n    }\n    return res\n}\n\n// æ–¹æ³•ä¸‰\narr.reduce((acc,cur) =&gt; acc.concat(cur),[])\n\n// æ–¹æ³•å››\n[].concat(...arr)\n\n// æ–¹æ³•äº”\n[].concat.apply(null,arr)\"><pre class=\"notranslate\"><span class=\"pl-c\">// æ–¹æ³•ä¸€</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span>\n    <span class=\"pl-k\">for</span><span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">i</span><span class=\"pl-c1\">=</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">i</span><span class=\"pl-c1\">&lt;</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">i</span><span class=\"pl-c1\">++</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n        <span class=\"pl-k\">if</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n            <span class=\"pl-k\">for</span><span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">j</span><span class=\"pl-c1\">=</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">j</span><span class=\"pl-c1\">&lt;</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">j</span><span class=\"pl-c1\">++</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n                <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">j</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n            <span class=\"pl-kos\">}</span>\n        <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n            <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-kos\">}</span>\n    <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// æ–¹æ³•äºŒ</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span>\n    <span class=\"pl-k\">for</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">x</span> <span class=\"pl-k\">of</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n        <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">concat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">x</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-kos\">}</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">res</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// æ–¹æ³•ä¸‰</span>\n<span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">reduce</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">acc</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s1\">acc</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">concat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-c\">// æ–¹æ³•å››</span>\n<span class=\"pl-kos\">[</span><span class=\"pl-s1\"></span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">concat</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-c\">// æ–¹æ³•äº”</span>\n<span class=\"pl-kos\">[</span><span class=\"pl-s1\"></span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">concat</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">apply</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">null</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span></pre></div>\n<h2 dir=\"auto\">å¤šç»´æ•°ç»„</h2>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// æ–¹æ³•ä¸€\nfunction flat(arr,res = []){\n\tarr.forEach(item =&gt; {\n        Array.isArray(item) ? flat(item,res): res.push(item)\n    })\n    return res\n}\n\n// æ–¹æ³•äºŒ\nfunction flat(arr){\n    return arr.reduce((acc,cur) =&gt; {\n        return Array.isArray(cur) ? acc.concat(flat(cur)) : acc.concat(cur)\n    },[])\n}\n\n// æ–¹æ³•ä¸‰\nfunction flat(arr){\n    while(arr.some(item =&gt; Array.isArray(item))){\n        arr = [].concat(...arr)\n    }\n    return arr\n}\n\n// æ–¹æ³•å››ï¼ˆè¦æ±‚æ‰€æœ‰å…ƒç´ æ•°æ®ç±»å‹ç›¸åŒï¼Œä»¥æ•°å­—å‹æ•°ç»„ä¸ºä¾‹ï¼‰\nfunction flat_numberArray(arr){\n    return arr.toString().split(',').map(x =&gt; Number(x))\n}\"><pre class=\"notranslate\"><span class=\"pl-c\">// æ–¹æ³•ä¸€</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n\t<span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">forEach</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n        <span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span> ? <span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">res</span><span class=\"pl-kos\">)</span>: <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">res</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// æ–¹æ³•äºŒ</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">reduce</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">acc</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n        <span class=\"pl-k\">return</span> <span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span> ? <span class=\"pl-s1\">acc</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">concat</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> : <span class=\"pl-s1\">acc</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">concat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// æ–¹æ³•ä¸‰</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">while</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">some</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n        <span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">concat</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-kos\">}</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// æ–¹æ³•å››ï¼ˆè¦æ±‚æ‰€æœ‰å…ƒç´ æ•°æ®ç±»å‹ç›¸åŒï¼Œä»¥æ•°å­—å‹æ•°ç»„ä¸ºä¾‹ï¼‰</span>\n<span class=\"pl-k\">function</span> <span class=\"pl-en\">flat_numberArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">toString</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">split</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">','</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">map</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">x</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-v\">Number</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">x</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span></pre></div>","author":{"login":"Chorer","avatarUrl":"https://avatars.githubusercontent.com/u/43442630?u=a9fa211751f51a129ea1fdd6ebaaa8ab41edb62a&v=4","url":"https://github.com/Chorer"},"replies":null}},{"node":{"id":"IC_kwDOHCfdf85Ahi22","bodyHTML":"<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"\n\nconst arr = [1, [2, 3, [4], 5], 6]\n\nconst { isArray } = Array\n\nconst flatten = (arr) =&gt;\n  arr.reduce((acc, cur) =&gt; {\n    return acc.concat(isArray(cur) ? flatten(cur) : cur)\n  }, [])\n\nconst _arr = flatten(arr)\n\nconsole.log(_arr) // [ 1, 2, 3, 4, 5, 6 ]\n\n\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">3</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">4</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">5</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">6</span><span class=\"pl-kos\">]</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-kos\">{</span> isArray <span class=\"pl-kos\">}</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Array</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">flatten</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span>\n  <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">reduce</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">acc</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">acc</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">concat</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span> ? <span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span> : <span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">_arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">_arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\">// [ 1, 2, 3, 4, 5, 6 ]</span>\n</pre></div>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"\nconst arr = [1, [2, 3, [4], 5], 6]\n\nconst len = (arr) =&gt; arr.length\n\nconst { isArray } = Array\n\nconst flatten = (arr) =&gt; {\n  const stack = [...arr]\n  const res = []\n  while (len(stack)) {\n    const f = stack.shift()\n    if (isArray(f)) {\n      stack.unshift(...f)\n    } else {\n      res.push(f)\n    }\n  }\n  return res\n}\n\nconst _arr = flatten(arr)\n\nconsole.log(_arr)\n\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">3</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">4</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">5</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">6</span><span class=\"pl-kos\">]</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">len</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-kos\">{</span> isArray <span class=\"pl-kos\">}</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Array</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">flatten</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">stack</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span>...<span class=\"pl-s1\">arr</span><span class=\"pl-kos\">]</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span>\n  <span class=\"pl-k\">while</span> <span class=\"pl-kos\">(</span><span class=\"pl-en\">len</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">stack</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">f</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">stack</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">shift</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">f</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-s1\">stack</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">unshift</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">f</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">f</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">res</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">_arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">_arr</span><span class=\"pl-kos\">)</span></pre></div>","author":{"login":"nonzzz","avatarUrl":"https://avatars.githubusercontent.com/u/52351095?u=6f6f36a4ced0620abe20704520835a1fdf67fef2&v=4","url":"https://github.com/nonzzz"},"replies":null}},{"node":{"id":"IC_kwDOHCfdf85Ahj4K","bodyHTML":"<p dir=\"auto\">// å®ç°æ–¹å¼ä¸€ï¼šreduce<br>\n<code class=\"notranslate\">const flatten = arr =&gt; arr.reduce((res, cur) =&gt; res.concat(Array.isArray(cur) ? flatten(cur) : cur), []);</code></p>\n<p dir=\"auto\">// å®ç°æ–¹å¼äºŒï¼štostring<br>\n<code class=\"notranslate\">const flatten2 =  arr =&gt; arr.toString().split(',').map(item =&gt; Number(item));</code></p>\n<p dir=\"auto\">// å®ç°æ–¹å¼ä¸‰ï¼šjoin<br>\n<code class=\"notranslate\">const flatten3 =  arr =&gt; arr.join().split(',').map(item =&gt; Number(item));</code></p>\n<p dir=\"auto\">// å®ç°æ–¹å¼å››ï¼šflat(Infinity)<br>\n<code class=\"notranslate\">const flatten4 = arr =&gt; arr.flat(Infinity);</code></p>\n<p dir=\"auto\">// å®ç°æ–¹å¼äº”ï¼šæ­£åˆ™<br>\n<code class=\"notranslate\">const flatten5 = arr =&gt; JSON.parse('[' + JSON.stringify(arr).replace(/\\[|\\]/g,'') + ']');</code></p>\n<p dir=\"auto\">// å®ç°æ–¹å¼å…­ï¼šæ‰©å±•è¿ç®—ç¬¦</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"const flatten6 = arr =&gt; {\n  while (arr.some(item =&gt; Array.isArray(item))) {\n    arr = [].concat(...arr);\n  }\n  return arr;\n};\"><pre class=\"notranslate\"><code class=\"notranslate\">const flatten6 = arr =&gt; {\n  while (arr.some(item =&gt; Array.isArray(item))) {\n    arr = [].concat(...arr);\n  }\n  return arr;\n};\n</code></pre></div>","author":{"login":"codekeqiong","avatarUrl":"https://avatars.githubusercontent.com/u/42710911?u=efdd51a32d6dde5bfc1a51cca089f1b730ebdaac&v=4","url":"https://github.com/codekeqiong"},"replies":null}},{"node":{"id":"IC_kwDOHCfdf85AhkFv","bodyHTML":"<p dir=\"auto\">arr.flat(Infinity)</p>","author":{"login":"xl9-7","avatarUrl":"https://avatars.githubusercontent.com/u/81150627?u=adf39188d36f1dd3762a0039222551d412ab2591&v=4","url":"https://github.com/xl9-7"},"replies":null}},{"node":{"id":"IC_kwDOHCfdf85AhkO5","bodyHTML":"<p dir=\"auto\">ES6åŸç”Ÿæ”¯æŒ<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flat\" rel=\"nofollow\">Array.prototype.flat</a></p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// ä¹‹å‰å†™çš„,ç›´æ¥æ‹¿æ¥ç”¨ä¸€ä¸‹\n\n// åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„\nconst isArray = Array.isArray\n\n// å‡å°‘ä¸€çº§æ•°ç»„çš„åµŒå¥—æ·±åº¦\nconst flatten = (array) =&gt; flattenDepth(array)\n\n// æ·±å±‚æ¬¡æ‰å¹³åŒ–æ•°ç»„\nconst flattenDeep = (array) =&gt; flattenDepth(array, Infinity)\n\n// æ ¹æ®ç”¨æˆ·å±‚çº§æ‰å¹³åŒ–æ•°ç»„,é»˜è®¤ä¸€å±‚\nconst flattenDepth = (array, depth = 1) =&gt; {\n   // å¦‚æœä¸æ˜¯æ•°ç»„,è¿”å›ä¼ å…¥çš„å‚æ•°\n    if (!isArray(array)) return array\n   // å®šä¹‰å½“å‰æ‰å¹³åŒ–å±‚çº§\n    let current = 0\n    const flat = (array, depth, currentDepth) =&gt; {\n        // å£°æ˜ result,ä½œä¸ºç»“æœè¿”å›\n        let result = []\n        // éå†æ•°ç»„\n        for (const item of array) {\n           // å¦‚æœæ˜¯æ•°ç»„ä¸”éå†æ·±åº¦ä¸å¤§äºæŒ‡å®šæ·±åº¦, ç»§ç»­æ‰å¹³åŒ–\n            if (isArray(item) &amp;&amp; currentDepth + 1 &lt;= depth) {\n                result.push(...flat(item, depth, currentDepth + 1))\n            } else {\n                // å¦åˆ™,æ’å…¥ç»“æœ\n                result.push(item)\n            }\n        }\n        // è¿”å›ç»“æœ\n        return result\n    }\n    return flat(array, depth, current)\n}\"><pre class=\"notranslate\"><span class=\"pl-c\">// ä¹‹å‰å†™çš„,ç›´æ¥æ‹¿æ¥ç”¨ä¸€ä¸‹</span>\n\n<span class=\"pl-c\">// åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">isArray</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">isArray</span>\n\n<span class=\"pl-c\">// å‡å°‘ä¸€çº§æ•°ç»„çš„åµŒå¥—æ·±åº¦</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">flatten</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">flattenDepth</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-c\">// æ·±å±‚æ¬¡æ‰å¹³åŒ–æ•°ç»„</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">flattenDeep</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">flattenDepth</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Infinity</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-c\">// æ ¹æ®ç”¨æˆ·å±‚çº§æ‰å¹³åŒ–æ•°ç»„,é»˜è®¤ä¸€å±‚</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">flattenDepth</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">depth</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n   <span class=\"pl-c\">// å¦‚æœä¸æ˜¯æ•°ç»„,è¿”å›ä¼ å…¥çš„å‚æ•°</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-c1\">!</span><span class=\"pl-s1\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">return</span> <span class=\"pl-s1\">array</span>\n   <span class=\"pl-c\">// å®šä¹‰å½“å‰æ‰å¹³åŒ–å±‚çº§</span>\n    <span class=\"pl-k\">let</span> <span class=\"pl-s1\">current</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">0</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-en\">flat</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">depth</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">currentDepth</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n        <span class=\"pl-c\">// å£°æ˜ result,ä½œä¸ºç»“æœè¿”å›</span>\n        <span class=\"pl-k\">let</span> <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span>\n        <span class=\"pl-c\">// éå†æ•°ç»„</span>\n        <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">item</span> <span class=\"pl-k\">of</span> <span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n           <span class=\"pl-c\">// å¦‚æœæ˜¯æ•°ç»„ä¸”éå†æ·±åº¦ä¸å¤§äºæŒ‡å®šæ·±åº¦, ç»§ç»­æ‰å¹³åŒ–</span>\n            <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">&amp;&amp;</span> <span class=\"pl-s1\">currentDepth</span> <span class=\"pl-c1\">+</span> <span class=\"pl-c1\">1</span> <span class=\"pl-c1\">&lt;=</span> <span class=\"pl-s1\">depth</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n                <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span>...<span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">depth</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">currentDepth</span> <span class=\"pl-c1\">+</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span>\n            <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n                <span class=\"pl-c\">// å¦åˆ™,æ’å…¥ç»“æœ</span>\n                <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span>\n            <span class=\"pl-kos\">}</span>\n        <span class=\"pl-kos\">}</span>\n        <span class=\"pl-c\">// è¿”å›ç»“æœ</span>\n        <span class=\"pl-k\">return</span> <span class=\"pl-s1\">result</span>\n    <span class=\"pl-kos\">}</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">depth</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">current</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// æµ‹è¯•\n// ä¸€ç»´\nconst test1 = () =&gt; {\n    const array = [1, 2, 3]\n    console.log(`flatten1:`, flatten(array)) // flatten1: (3)Â [1, 2, 3]\n    console.log(`flattenDeep1:`, flattenDeep(array)) // flattenDeep1: (3)Â [1, 2, 3]\n}\n\n// äºŒç»´\nconst test2 = () =&gt; {\n    const array = [[1], [2], [3]]\n    console.log(`flatten2:`, flatten(array)) // flatten2: (3)Â [1, 2, 3]\n    console.log(`flattenDeep2:`, flattenDeep(array)) // flattenDeep2: (3)Â [1, 2, 3]\n}\n\n// ä¸‰ç»´\nconst test3 = () =&gt; {\n    const array = [[[1]], [[2]], [[3]]]\n    console.log(`flatten3:`, flatten(array)) // flatten3: (3)Â [Array(1), Array(1), Array(1)]\n    console.log(`flattenDeep3:`, flattenDeep(array)) // flattenDeep3: (3)Â [1, 2, 3]\n}\n\n// å¤šç»´\nconst test4 = () =&gt; {\n    const array = [[[[1]]], [[[2]]], [[[3]]]]\n    console.log(`flatten:`, flatten(array)) // flatten4: (3)Â [Array(1), Array(1), Array(1)] ç²˜çš„æµè§ˆå™¨æ‰“å°ç»“æœ,æ— æ³•å±•å¼€\n    console.log(`flattenDeep:`, flattenDeep(array)) // flattenDeep4: (3)Â [1, 2, 3] \n}\nconst runTest = () =&gt; {\n    test1()\n    test2()\n    test3()\n    test4()\n}\n\nrunTest()\"><pre class=\"notranslate\"><span class=\"pl-c\">// æµ‹è¯•</span>\n<span class=\"pl-c\">// ä¸€ç»´</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">test1</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">array</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">3</span><span class=\"pl-kos\">]</span>\n    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`flatten1:`</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\">// flatten1: (3)Â [1, 2, 3]</span>\n    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`flattenDeep1:`</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">flattenDeep</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\">// flattenDeep1: (3)Â [1, 2, 3]</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// äºŒç»´</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">test2</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">array</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">3</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span>\n    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`flatten2:`</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\">// flatten2: (3)Â [1, 2, 3]</span>\n    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`flattenDeep2:`</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">flattenDeep</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\">// flattenDeep2: (3)Â [1, 2, 3]</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// ä¸‰ç»´</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">test3</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">array</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">3</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span>\n    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`flatten3:`</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\">// flatten3: (3)Â [Array(1), Array(1), Array(1)]</span>\n    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`flattenDeep3:`</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">flattenDeep</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\">// flattenDeep3: (3)Â [1, 2, 3]</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// å¤šç»´</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">test4</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">array</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">3</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span>\n    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`flatten:`</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\">// flatten4: (3)Â [Array(1), Array(1), Array(1)] ç²˜çš„æµè§ˆå™¨æ‰“å°ç»“æœ,æ— æ³•å±•å¼€</span>\n    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`flattenDeep:`</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">flattenDeep</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\">// flattenDeep4: (3)Â [1, 2, 3] </span>\n<span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">runTest</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-en\">test1</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-en\">test2</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-en\">test3</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-en\">test4</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-en\">runTest</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span></pre></div>","author":{"login":"vfiee","avatarUrl":"https://avatars.githubusercontent.com/u/42051272?u=c466fca38de5663acb520c4a0af0d2d8515ec79b&v=4","url":"https://github.com/vfiee"},"replies":null}},{"node":{"id":"IC_kwDOHCfdf85AhkfH","bodyHTML":"<h3 dir=\"auto\">ä»£ç </h3>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\">åŸç”Ÿæ•°ç»„æ–¹æ³•</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function fn1(arr = []) {\n      return arr.flat(Infinity)\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">function</span> <span class=\"pl-en\">fn1</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Infinity</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span></pre></div>\n</li>\n<li>\n<p dir=\"auto\">é€’å½’</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function fn2(arr = []) {\n      return arr.reduce((pre, cur) =&gt; {\n            if (Array.isArray(cur)) {\n                  pre.push(...fn2(cur))\n            } else {\n                  pre.push(cur);\n            }\n            return pre;\n      }, [])\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">function</span> <span class=\"pl-en\">fn2</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">reduce</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">pre</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n            <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n                  <span class=\"pl-s1\">pre</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span>...<span class=\"pl-en\">fn2</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span>\n            <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n                  <span class=\"pl-s1\">pre</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cur</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n            <span class=\"pl-kos\">}</span>\n            <span class=\"pl-k\">return</span> <span class=\"pl-s1\">pre</span><span class=\"pl-kos\">;</span>\n      <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span></pre></div>\n</li>\n<li>\n<p dir=\"auto\">è¿­ä»£å™¨</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function fn3(arr = []) {\n      function* iteration(arr) {\n            for (let item of arr) {\n                  if (Array.isArray(item)) {\n                      \t// è½¬ç§»è¿­ä»£å™¨æ§åˆ¶æƒ\n                        yield* iteration(item)\n                  } else {\n                        yield item\n                  }\n            }\n      }\n\n      return [...iteration(arr)];\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">function</span> <span class=\"pl-en\">fn3</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-k\">function</span><span class=\"pl-c1\">*</span> <span class=\"pl-s1\">iteration</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n            <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">item</span> <span class=\"pl-k\">of</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n                  <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n                      \t<span class=\"pl-c\">// è½¬ç§»è¿­ä»£å™¨æ§åˆ¶æƒ</span>\n                        <span class=\"pl-k\">yield</span><span class=\"pl-c1\">*</span> <span class=\"pl-en\">iteration</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span>\n                  <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n                        <span class=\"pl-k\">yield</span> <span class=\"pl-s1\">item</span>\n                  <span class=\"pl-kos\">}</span>\n            <span class=\"pl-kos\">}</span>\n      <span class=\"pl-kos\">}</span>\n\n      <span class=\"pl-k\">return</span> <span class=\"pl-kos\">[</span>...<span class=\"pl-en\">iteration</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span></pre></div>\n</li>\n<li>\n<p dir=\"auto\">æ ˆå­˜å–</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function fn4(arr = []) {\n      // é¿å…ä¿®æ”¹åŸæ•°ç»„\n      arr = arr.slice()\n      const res = [];\n      while (arr.length) {\n            // è·å–å¤´éƒ¨\n            const value = arr.shift();\n            // æ˜¯æ•°ç»„çš„è¯è§£æ„æ”¾å›å¤´éƒ¨\n            if (Array.isArray(value)) {\n                  arr.unshift(...value)\n            } else {\n                  res.push(value)\n            }\n      }\n      return res;\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">function</span> <span class=\"pl-en\">fn4</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-c\">// é¿å…ä¿®æ”¹åŸæ•°ç»„</span>\n      <span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">slice</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n      <span class=\"pl-k\">const</span> <span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>\n      <span class=\"pl-k\">while</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n            <span class=\"pl-c\">// è·å–å¤´éƒ¨</span>\n            <span class=\"pl-k\">const</span> <span class=\"pl-s1\">value</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">shift</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n            <span class=\"pl-c\">// æ˜¯æ•°ç»„çš„è¯è§£æ„æ”¾å›å¤´éƒ¨</span>\n            <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">value</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n                  <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">unshift</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">value</span><span class=\"pl-kos\">)</span>\n            <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n                  <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">value</span><span class=\"pl-kos\">)</span>\n            <span class=\"pl-kos\">}</span>\n      <span class=\"pl-kos\">}</span>\n      <span class=\"pl-k\">return</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span></pre></div>\n</li>\n<li>\n<p dir=\"auto\">éå†</p>\n<p dir=\"auto\">ç¬¬å››ä¸ªæ–¹æ³•çš„ä¼˜åŒ–ç‰ˆæœ¬ï¼Œç›¸æ¯”æ–¹æ³•å››ï¼Œè€ƒè™‘ä¸æ”¹å˜åŸæ•°ç»„çš„æƒ…å†µä¸‹ï¼Œä¹Ÿåªéœ€è¦ä¸€ä¸ªé¢å¤–æ•°ç»„</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function fn5(arr = []) {\n      // é¿å…ä¿®æ”¹åŸæ•°ç»„\n      const res = arr.slice()\n      for (let i = 0; i &lt; res.length; i++) {\n            const value = res[i];\n            if (Array.isArray(value)) {\n                  // å°†æ•°æ®è§£æ„æ’å…¥åŸæ¥å…ƒç´ çš„ä½ç½®\n                  res.splice(i, 1, ...value);\n                  // ä¿®æ­£æŒ‡é’ˆä½ç½®\n                  i--;\n            }\n      }\n      return res;\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">function</span> <span class=\"pl-en\">fn5</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-c\">// é¿å…ä¿®æ”¹åŸæ•°ç»„</span>\n      <span class=\"pl-k\">const</span> <span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">slice</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n      <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">&lt;</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span><span class=\"pl-c1\">++</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n            <span class=\"pl-k\">const</span> <span class=\"pl-s1\">value</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>\n            <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">value</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n                  <span class=\"pl-c\">// å°†æ•°æ®è§£æ„æ’å…¥åŸæ¥å…ƒç´ çš„ä½ç½®</span>\n                  <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">splice</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> ...<span class=\"pl-s1\">value</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n                  <span class=\"pl-c\">// ä¿®æ­£æŒ‡é’ˆä½ç½®</span>\n                  <span class=\"pl-s1\">i</span><span class=\"pl-c1\">--</span><span class=\"pl-kos\">;</span>\n            <span class=\"pl-kos\">}</span>\n      <span class=\"pl-kos\">}</span>\n      <span class=\"pl-k\">return</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span></pre></div>\n</li>\n</ul>\n<h3 dir=\"auto\">æµ‹è¯•</h3>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"let arr = [1, [2, 3, [4], 5], 6]\n\nconsole.log(fn1(arr));\nconsole.log(fn2(arr));\nconsole.log(fn3(arr));\nconsole.log(fn4(arr));\nconsole.log(fn5(arr));\"><pre class=\"notranslate\"><span class=\"pl-k\">let</span> <span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">3</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">4</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">5</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">6</span><span class=\"pl-kos\">]</span>\n\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">fn1</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">fn2</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">fn3</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">fn4</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">fn5</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">è¾“å‡ºï¼š<br>\n<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/52490455/160753200-c1a39e88-f14f-4065-bfcf-3403bebd7c91.png\"><img src=\"https://user-images.githubusercontent.com/52490455/160753200-c1a39e88-f14f-4065-bfcf-3403bebd7c91.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>","author":{"login":"fightZy","avatarUrl":"https://avatars.githubusercontent.com/u/52490455?u=4a008fd4e5a82484f5eec0f82487368910fc9f65&v=4","url":"https://github.com/fightZy"},"replies":null}},{"node":{"id":"IC_kwDOHCfdf85AhmEv","bodyHTML":"<p dir=\"auto\">å¯ä»¥åˆ†æƒ…å†µè¿›è¡Œè®¨è®º<br>\narrä¸ºæˆ‘ä»¬éœ€è¦æ‰å¹³çš„æ•°ç»„</p>\n<blockquote>\n<p dir=\"auto\">ç¤ºä¾‹ä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œè¦æ±‚nodeç‰ˆæœ¬è‡³å°‘å¤§äº4.0.0ï¼Œå¯ä»¥ä½¿ç”¨functionæ–¹å¼å®šä¹‰flattenæ–¹æ³•<br>\nç¤ºä¾‹ä¸­ä½¿ç”¨çš„spreadè¿ç®—ç¬¦ï¼Œè¦æ±‚nodeç‰ˆæœ¬è‡³å°‘å¤§äº5.0.0ï¼Œå½“nodeç‰ˆæœ¬å°äº5.0.0æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å…¶å®ƒæ–¹æ³•å®ç°</p>\n</blockquote>\n<h3 dir=\"auto\">å¦‚æœæ•°ç»„ä¸ºnä¸ºæ•°ç»„ï¼Œä¸”nodeç‰ˆæœ¬å¤§äº11.0.0</h3>\n<p dir=\"auto\">a. å·²ç»çŸ¥æ•°ç»„ç»´åº¦ä¸ºnï¼š</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"arr = arr.flat(n)\"><pre class=\"notranslate\"><span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">n</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">b.æœªçŸ¥æ•°ç»„ç»´åº¦ï¼š</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"arr = arr.flat(Infinity)\"><pre class=\"notranslate\"><span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Infinity</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">c. nä¸º2</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"arr.flatMap(el =&gt; el)\"><pre class=\"notranslate\"><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">flatMap</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">el</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s1\">el</span><span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">å¦‚æœæ•°ç»„ä¸ºnç»´æ•°ç»„ï¼Œä¸”nodeç‰ˆæœ¬å°äº11.0.0</h3>\n<p dir=\"auto\">a. stack</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const flatten = (arr) =&gt; {\n  // copyæ•°ç»„\n  const stackArr = [...arr]; \n  const res = [];\n  while (stackArr.length) {\n    const part = stackArr.shift();\n    if (Array.isArray(part)) {\n      stackArr.unshift(...part);\n    } else {\n      res.push(part);\n    }\n  }\n  return res;\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-en\">flatten</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-c\">// copyæ•°ç»„</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">stackArr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span>...<span class=\"pl-s1\">arr</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span> \n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">while</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">stackArr</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">part</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">stackArr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">shift</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">part</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-s1\">stackArr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">unshift</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">part</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">part</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">b.  forå¾ªç¯</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const flatten = (arr) =&gt; {\n  var res = [];\n  for (let i = 0, length = arr.length; i &lt; length; i++) {\n    if (Array.isArray(arr[i])) {\n      res.push(...flatten(arr[i]));\n    } else {\n      res.push(arr[i]);\n    }\n  }\n  return res;\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-en\">flatten</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">var</span> <span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">length</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">&lt;</span> <span class=\"pl-s1\">length</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span><span class=\"pl-c1\">++</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span>...<span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">c. reduce</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const flatten = (arr) =&gt; {\n  return arr.reduce((prev, next) =&gt; {\n    return prev.concat(Array.isArray(next) ? flatten(next) : next)\n  }, [])\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-en\">flatten</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">reduce</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">prev</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">next</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">prev</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">concat</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">next</span><span class=\"pl-kos\">)</span> ? <span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">next</span><span class=\"pl-kos\">)</span> : <span class=\"pl-s1\">next</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<blockquote>\n<p dir=\"auto\">è¿™é‡Œçš„resetè¿ç®—ç¬¦çš„ä½¿ç”¨å¯ä»¥æ›¿æ¢æˆconcatæ–¹æ³•</p>\n</blockquote>\n<p dir=\"auto\">d. while</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const flatten = (arr) =&gt; {\n  while (arr.some(el =&gt; Array.isArray(el))) {\n    arr = [].concat(...arr);\n  }\n  return arr;\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-en\">flatten</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">while</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">some</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">el</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">el</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">concat</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<blockquote>\n<p dir=\"auto\">åŒæ ·çš„ï¼Œè¿™é‡Œçš„resetè¿ç®—ç¬¦ä¹Ÿå¯ä»¥ä½¿ç”¨concatæ–¹æ³•</p>\n</blockquote>\n<p dir=\"auto\">e. ç¿»ç‰ˆé€’å½’</p>\n<blockquote>\n<p dir=\"auto\">yieldéœ€è¦nodeç‰ˆæœ¬å¤§äº4.0.0</p>\n</blockquote>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function* flatten(arr) {\n  for (const el of arr) {\n      if(Array.isArray(el)){\n          yield* flatten(el)\n      } else {\n          yield el\n      }\n  }\n}\nconst newArr = [...flatten(arr)]\"><pre class=\"notranslate\"><span class=\"pl-k\">function</span><span class=\"pl-c1\">*</span> <span class=\"pl-s1\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">el</span> <span class=\"pl-k\">of</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-k\">if</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">el</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n          <span class=\"pl-k\">yield</span><span class=\"pl-c1\">*</span> <span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">el</span><span class=\"pl-kos\">)</span>\n      <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n          <span class=\"pl-k\">yield</span> <span class=\"pl-s1\">el</span>\n      <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">newArr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span>...<span class=\"pl-en\">flatten</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span></pre></div>\n<h3 dir=\"auto\">æ•°ç»„ä¸ºçº¯æ•°å­—æ•°ç»„ï¼Œä¸”nç»´</h3>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const flatten = (arr) =&gt; {\n  return arr.toString().split(',').map(el =&gt; {\n    return +el\n  })\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-en\">flatten</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">toString</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">split</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">','</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">map</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">el</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">+</span><span class=\"pl-s1\">el</span>\n  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span></pre></div>","author":{"login":"Alexlangl","avatarUrl":"https://avatars.githubusercontent.com/u/49755039?u=05454fda082f3c2d7c07ac8a0fcf763af6fefc79&v=4","url":"https://github.com/Alexlangl"},"replies":null}},{"node":{"id":"IC_kwDOHCfdf85Ahn8d","bodyHTML":"<h1 dir=\"auto\">ES6</h1>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"arr.flat(Infinity);\"><pre class=\"notranslate\"><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">flat</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Infinity</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<h1 dir=\"auto\">æ•°ç»„ä¸­å…¨ä¸ºæ•°å­—</h1>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"arr.toString().split(',').map(Number)\"><pre class=\"notranslate\"><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">toString</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">split</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">','</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">map</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Number</span><span class=\"pl-kos\">)</span></pre></div>\n<h1 dir=\"auto\">é€’å½’</h1>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const myFlat = (arr) =&gt; {\n  const helper = (arr) =&gt; {\n    let res = [];\n    for (const item of arr) {\n      if (typeof item === 'object') {\n        res.push(...item);\n      } else {\n        res.push(item);\n      }\n    }\n    return res;\n  };\n\n  while (arr.some(item =&gt; typeof item === 'object')) {\n    arr = helper(arr);\n  }\n  return arr;\n};\n\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-en\">myFlat</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-en\">helper</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">let</span> <span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">item</span> <span class=\"pl-k\">of</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">typeof</span> <span class=\"pl-s1\">item</span> <span class=\"pl-c1\">===</span> <span class=\"pl-s\">'object'</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n        <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n      <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n        <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n      <span class=\"pl-kos\">}</span>\n    <span class=\"pl-kos\">}</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n\n  <span class=\"pl-k\">while</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">some</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-k\">typeof</span> <span class=\"pl-s1\">item</span> <span class=\"pl-c1\">===</span> <span class=\"pl-s\">'object'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">helper</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div>\n<h1 dir=\"auto\">æ ˆä»£æ›¿é€’å½’</h1>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const myFlat1 = (input) =&gt; {\n  const stack = [...input];\n  const res = [];\n  while (stack.length) {\n    const next = stack.pop();\n    if (Array.isArray(next)) {\n      stack.push(...next);\n    } else {\n      res.push(next);\n    }\n  }\n  return res.reverse();\n};\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-en\">myFlat1</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">input</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">stack</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span>...<span class=\"pl-s1\">input</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">res</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">while</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">stack</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">next</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">stack</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pop</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">next</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-s1\">stack</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">next</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">next</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">reverse</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div>\n<h1 dir=\"auto\">æ­£åˆ™è¿‡æ»¤</h1>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function myFlat3(arr) {\n  let str = JSON.stringify(arr);\n  // è¿‡æ»¤æ‰€æœ‰çš„ä¸­ä¸­æ‹¬å·\n  str = str.replace(/(\\[|\\])/g, '');\n  str = '[' + str + ']';\n  return JSON.parse(str);\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">function</span> <span class=\"pl-en\">myFlat3</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">let</span> <span class=\"pl-s1\">str</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">JSON</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">stringify</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">arr</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-c\">// è¿‡æ»¤æ‰€æœ‰çš„ä¸­ä¸­æ‹¬å·</span>\n  <span class=\"pl-s1\">str</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">str</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">replace</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\"><span class=\"pl-c1\">/</span><span class=\"pl-kos\">(</span><span class=\"pl-cce\">\\[</span><span class=\"pl-c1\">|</span><span class=\"pl-cce\">\\]</span><span class=\"pl-kos\">)</span><span class=\"pl-c1\">/</span>g</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">''</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-s1\">str</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">'['</span> <span class=\"pl-c1\">+</span> <span class=\"pl-s1\">str</span> <span class=\"pl-c1\">+</span> <span class=\"pl-s\">']'</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-c1\">JSON</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">parse</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">str</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<h1 dir=\"auto\">ç”Ÿæˆå™¨</h1>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function* myFlat2(array, depth = 1) {\n  for (const item of array) {\n    if (Array.isArray(item) &amp;&amp; depth &gt; 0) {\n      yield* myFlat2(item, depth - 1);\n    } else {\n      yield item;\n    }\n  }\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">function</span><span class=\"pl-c1\">*</span> <span class=\"pl-s1\">myFlat2</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">array</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">depth</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">item</span> <span class=\"pl-k\">of</span> <span class=\"pl-s1\">array</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">&amp;&amp;</span> <span class=\"pl-s1\">depth</span> <span class=\"pl-c1\">&gt;</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-k\">yield</span><span class=\"pl-c1\">*</span> <span class=\"pl-en\">myFlat2</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">depth</span> <span class=\"pl-c1\">-</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-k\">yield</span> <span class=\"pl-s1\">item</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span></pre></div>","author":{"login":"childrentime","avatarUrl":"https://avatars.githubusercontent.com/u/58261676?u=2457dbe0350468c49c8bf9ed4a1b0e6622649c7a&v=4","url":"https://github.com/childrentime"},"replies":null}},{"node":{"id":"IC_kwDOHCfdf85AnhHt","bodyHTML":"<p dir=\"auto\">const s = [1, [2, 3, [4], 5], 6]<br>\n// å‡½æ•°ä½“<br>\nfunction flatList (list, resList) {<br>\nresList = resList || []<br>\nfor (let value of list) {<br>\nif (Array.isArray(value)) {<br>\nflatList(value, resList)<br>\n} else {<br>\nresList[resList.length] = value<br>\n}<br>\n}<br>\nreturn resList<br>\n}<br>\n// éªŒè¯<br>\nconsole.log(flatList(s))</p>","author":{"login":"houhaizimen","avatarUrl":"https://avatars.githubusercontent.com/u/50349373?v=4","url":"https://github.com/houhaizimen"},"replies":null}}]}}},"pageContext":{"number":34,"previous":{"title":"ä¸ºä»€ä¹ˆVueæ²¡æœ‰Reacté‚£ä¹ˆå¤šæ€§èƒ½ä¼˜åŒ–APIï¼Ÿ","number":30},"next":{"title":"å¦‚ä½•è·¨å›¢é˜Ÿæ¨è¿›é¡¹ç›®è½åœ°ï¼Ÿ","number":35}}},
    "staticQueryHashes": ["151096407","2861350382"]}